{"mappings":"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","sources":["index.js"],"sourcesContent":["// const wrapper = document.querySelector(\".wrapper\");\r\n// const seats = document.querySelectorAll(\".wrap_row .seat:not(.occupied)\");\r\n// const movie = document.getElementById(\"movie\");\r\n// // const selectedSeats = document.querySelectorAll(\".wrap_seat .seat.selected\");\r\n// const count = document.querySelector(\".footer_count\");\r\n// const total = document.querySelector(\".footer_total\");\r\n\r\n// movie.addEventListener(\"change\", onChangeMovie);\r\n// wrapper.addEventListener(\"click\", onClickSeats);\r\n\r\n// let priceTicket = +movie.value;\r\n// let selectedSeats = JSON.parse(localStorage.getItem(\"selectedSeats\")) || [];\r\n// console.log(selectedSeats);\r\n// console.log(priceTicket);\r\n\r\n// populateUI();\r\n// updateCount();\r\n\r\n// function saveDataMovie(movieIndex, moviePrice) {\r\n//   localStorage.setItem(\"movieIndex\", movieIndex);\r\n//   localStorage.setItem(\"moviePrice\", moviePrice);\r\n// }\r\n\r\n// function updateCount() {\r\n//   const indexSeats = [...selectedSeats].map((seat) => [...seats].indexOf(seat));\r\n//   console.log(indexSeats);\r\n//   console.log(selectedSeats);\r\n\r\n//   localStorage.setItem(\"selectedSeats\", JSON.stringify(indexSeats));\r\n\r\n//   const selectedSeatsCount = selectedSeats.length;\r\n\r\n//   count.innerText = selectedSeatsCount;\r\n//   total.innerText = selectedSeatsCount * priceTicket;\r\n// }\r\n\r\n// function populateUI() {\r\n//   const selectedSeats = JSON.parse(localStorage.getItem(\"selectedSeats\"));\r\n\r\n//   if (selectedSeats !== null && selectedSeats.length > 0) {\r\n//     seats.forEach((seat, index) => {\r\n//       if (selectedSeats.indexOf(index) > -1) {\r\n//         seat.classlist.add(\"selected\");\r\n//       }\r\n//     });\r\n//   }\r\n\r\n//   const selectedMovieIndex = localStorage.getItem(\"movieIndex\");\r\n//   console.log(selectedMovieIndex);\r\n\r\n//   if (selectedMovieIndex !== null) {\r\n//     movie.selectedIndex = selectedMovieIndex;\r\n//   }\r\n\r\n//   updateCount();\r\n// }\r\n\r\n// function onChangeMovie(evt) {\r\n//   priceTicket = +evt.target.value;\r\n\r\n//   saveDataMovie(evt.target.selectedIndex, evt.target.value);\r\n\r\n//   updateCount();\r\n// }\r\n\r\n// function onClickSeats(evt) {\r\n//   console.log(evt.target);\r\n//   if (\r\n//     evt.target.classList.contains(\"seat\") &&\r\n//     !evt.target.classList.contains(\"occupied\")\r\n//   ) {\r\n//     evt.target.classList.toggle(\"selected\");\r\n\r\n//     updateCount();\r\n//   }\r\n\r\n//   if (evt.target.classList.contains(\"selected\")) {\r\n//     console.log(\"yes\");\r\n//     selectedSeats.push(evt.target);\r\n//     console.log(selectedSeats);\r\n//   }\r\n// }\r\n\r\n// updateCount();\r\n\r\nconst container = document.querySelector(\".container\");\r\nconst seats = document.querySelectorAll(\".row .seat:not(.occupied\");\r\nconst count = document.getElementById(\"count\");\r\nconst total = document.getElementById(\"total\");\r\nconst movieSelect = document.getElementById(\"movie\");\r\n\r\npopulateUI();\r\nlet ticketPrice = +movieSelect.value;\r\n\r\n// Save selected movie index and price\r\nfunction setMovieData(movieIndex, moviePrice) {\r\n  localStorage.setItem(\"selectedMovieIndex\", movieIndex);\r\n  localStorage.setItem(\"selectedMoviePrice\", moviePrice);\r\n}\r\n\r\n// update total and count\r\nfunction updateSelectedCount() {\r\n  const selectedSeats = document.querySelectorAll(\".row .seat.selected\");\r\n\r\n  const seatsIndex = [...selectedSeats].map((seat) => [...seats].indexOf(seat));\r\n\r\n  localStorage.setItem(\"selectedSeats\", JSON.stringify(seatsIndex));\r\n\r\n  //copy selected seats into arr\r\n  // map through array\r\n  //return new array of indexes\r\n\r\n  const selectedSeatsCount = selectedSeats.length;\r\n\r\n  count.innerText = selectedSeatsCount;\r\n  total.innerText = selectedSeatsCount * ticketPrice;\r\n}\r\n\r\nfunction populateUI() {\r\n  const selectedSeats = JSON.parse(localStorage.getItem(\"selectedSeats\"));\r\n  if (selectedSeats !== null && selectedSeats.length > 0) {\r\n    seats.forEach((seat, index) => {\r\n      if (selectedSeats.indexOf(index) > -1) {\r\n        seat.classList.add(\"selected\");\r\n      }\r\n    });\r\n  }\r\n\r\n  const selectedMovieIndex = localStorage.getItem(\"selectedMovieIndex\");\r\n\r\n  if (selectedMovieIndex !== null) {\r\n    movieSelect.selectedIndex = selectedMovieIndex;\r\n  }\r\n}\r\n\r\n// Movie select event\r\nmovieSelect.addEventListener(\"change\", (e) => {\r\n  ticketPrice = +e.target.value;\r\n  setMovieData(e.target.selectedIndex, e.target.value);\r\n  updateSelectedCount();\r\n});\r\n\r\n// Seat click event\r\ncontainer.addEventListener(\"click\", (e) => {\r\n  if (\r\n    e.target.classList.contains(\"seat\") &&\r\n    !e.target.classList.contains(\"occupied\")\r\n  ) {\r\n    e.target.classList.toggle(\"selected\");\r\n\r\n    updateSelectedCount();\r\n  }\r\n});\r\n\r\nupdateSelectedCount();\r\n"],"names":[],"version":3,"file":"index.c36f364e.js.map","sourceRoot":"/__parcel_source_root/"}